/* CHANGELOG
 * Written by Josh Grooms on 20160828
 */

#version 450 core
#include "Default.hsl"

in vec2     TexUV;
flat in int EntityIndex;

out vec4 OutputColor;



void main(void)
{
    EntityData ids = Entities[EntityIndex];
    MaterialData mat = Materials[ids.MaterialIndex];

    //OutputColor = mat.PrimaryColor - vec4((gl_FragDepth + 1.0) / 2.0);
    OutputColor = mat.PrimaryColor * vec4(gl_FragCoord.z);
    OutputColor.a = mat.PrimaryColor.a;
    OutputColor = normalize(OutputColor);
    //OutputColor = (OutputColor + 1.0) / 2.0;
    //OutputColor = normalize(OutputColor);
}
